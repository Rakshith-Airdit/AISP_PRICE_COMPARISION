<core:FragmentDefinition
    xmlns:f="sap.f"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
>
    <Popover
        id="notificationPopover"
        class="sapUiContentPadding"
        placement="Bottom"
        contentHeight="400px"
        contentWidth="375px"
        showHeader="false"
        verticalScrolling="false"
    >
        <Page
            id="detail"
            enableScrolling="false"
            titleAlignment="Start"
            showFooter="true"
        >
            <customHeader>
                <Toolbar
                    height="50px"
                    width="100%"
                >
                    <content>
                        <HBox
                            width="100%"
                            alignItems="Center"
                            justifyContent="Start"
                        >
                            <Avatar
                                id="headerAvatar"
                                displayShape="Circle"
                                displaySize="S"
                                initials="DM"
                                backgroundColor="Accent7"
                                class="sapUiTinyMarginEnd"
                            />
                            <VBox
                                id="headerInfoBox"
                                justifyContent="Center"
                            >
                                <Title text="Donna Mendez" />
                                <Text text="Managing Partner" />
                            </VBox>
                        </HBox>
                    </content>
                </Toolbar>
            </customHeader>
            <content>
                <FlexBox
                    id="idMainContainer"
                    direction="Column"
                    width="100%"
                    height="100%"
                    justifyContent="Start"
                    fitContainer="true"
                >
                    <ScrollContainer
                        id="idMessagesScrollContainer"
                        vertical="true"
                        width="100%"
                        height="100%"
                        class="sapUiSmallMarginTopBottom"
                    >
                        <VBox
                            id="idMessagesBox"
                            width="100%"
                        >
                            <HBox
                                id="idUserMsgHBox"
                                width="100%"
                                justifyContent="End"
                                class="sapUiTinyMarginTopBottom"
                            >
                                <FlexBox alignItems="End">
                                    <MessageStrip
                                        id="idUserMessageStrip"
                                        text="Hi, do you have any questions?"
                                        showIcon="false"
                                        type="Information"
                                        class="sapUiTinyMarginEnd"
                                    />
                                    <Avatar
                                        id="idUserAvatar"
                                        displayShape="Circle"
                                        displaySize="XS"
                                        initials="U"
                                        backgroundColor="Accent1"
                                    />
                                </FlexBox>
                            </HBox>
                            <HBox
                                id="idHBoxServerMsg"
                                width="100%"
                                justifyContent="Start"
                                class="sapUiTinyMarginTopBottom"
                            >
                                <FlexBox alignItems="Start">
                                    <Avatar
                                        id="idServerAvatar"
                                        displayShape="Circle"
                                        displaySize="XS"
                                        initials="AI"
                                        backgroundColor="Accent5"
                                        class="sapUiTinyMarginEnd"
                                    />
                                    <MessageStrip
                                        id="idServerMessageStrip"
                                        text="Yes, I'd like more info about your services."
                                        showIcon="false"
                                        type="Information"
                                    />
                                </FlexBox>
                            </HBox>
                        </VBox>
                    </ScrollContainer>
                </FlexBox>
            </content>
            <footer>
                <Toolbar>
                    <FlexBox
                        id="idChatInputRow"
                        justifyContent="SpaceBetween"
                        alignItems="Center"
                        width="100%"
                        class="sapUiResponsiveContentPadding"
                    >
                        <Input
                            id="idUserChatInput"
                            placeholder="Type your message..."
                            width="100%"
                            enabled="{= !${oSubmitStateModel>chatBusy} }"
                        >
                            <layoutData>
                                <FlexItemData growFactor="1" />
                            </layoutData>
                        </Input>
                        <Button
                            id="idSendChatBtn"
                            icon="sap-icon://paper-plane"
                            type="Emphasized"
                            press=".onSendMessage"
                            enabled="{= !${oSubmitStateModel>/chatBusy} }"
                            busy="{oSubmitStateModel>/chatBusy}"
                            busyIndicatorDelay="0"
                            class="sapUiTinyMarginBegin"
                        />
                    </FlexBox>
                </Toolbar>
            </footer>
        </Page>
    </Popover>
</core:FragmentDefinition>